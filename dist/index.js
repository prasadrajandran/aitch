var d=e=>!!(e&&(e.constructor===Object||Object.getPrototypeOf(e)===null));var u="9554857d-de86-490c-b840-97c0b09ec272";var y=e=>d(e)&&"directive"in e&&e.directive===u;var R=(e,o)=>{Object.entries(o).forEach(([t,s])=>{switch(t){case"style":Object.entries(s).forEach(([l,r])=>{e.style[l]=r});break;case"dataset":Object.entries(s).forEach(([l,r])=>{e.dataset[l]=r});break;default:if((t.startsWith("[")||t.startsWith("!["))&&t.endsWith("]"))t.startsWith("![")?e.removeAttribute(t.substring(2,t.length-1)):e.setAttribute(t.substring(1,t.length-1),String(s));else{let r=e[t];typeof r=="function"&&Array.isArray(s)?r.apply(e,s):r!==s&&(e[t]=s)}}})};var T=e=>`data-FHF7Sj5kD1S-${e}`,I=e=>`<template ${T(e)}></template>`,g=(e,o)=>{let t=new Map,s=document.createElement("template"),l=e.length-1;return s.innerHTML=e.reduce((r,c,n)=>{let i=`${r}${c}`,a=o[n],E=typeof a;if(n===l)return i;if(E==="string"||E==="number"||E==="boolean")return`${i}${a}`;if(a instanceof Node)return t.set(n,a),`${i}${I(n)}`;if(y(a))return t.set(n,a),`${i}${a.definition.type==="attr"?T(n):I(n)}`;if(d(a))return t.set(n,a),`${i}${T(n)}`;throw new Error(`Invalid template argument at position ${n} (zero-based numbering)`)},"").trim(),{taggedTemplate:s,taggedArgs:t}},k=({taggedTemplate:e,taggedArgs:o})=>{let t=e.content.cloneNode(!0),s=new Map;o.forEach((r,c)=>{var a;let n=T(c),i=t.querySelector(`[${n}]`);if(!i)throw new Error(`Unexpected template argument at position ${c} (zero-based numbering)`);if(i.removeAttribute(n),r instanceof Node)i.replaceWith(r);else if(y(r)){let{identifier:E,args:m}=r,{callback:p,key:b}=r.definition,f=((a=s.get(E))==null?void 0:a.instances)||[];f.push({node:i,pos:c,args:m}),s.set(E,{callback:p,key:b,instances:f})}else R(i,r)});let l={content:t.childNodes.length===1?t.childNodes[0]:t};return s.forEach(({key:r,callback:c,instances:n})=>{let i=c(n);r&&(l[r]=i)}),l},A=(e,...o)=>k(g(e,o));var v=({container:e,items:o,element:t,ref:s,key:l=c=>String(c.key),keyName:r="data-h-repeat-key"})=>{let c=Array.isArray(o)?o.entries():o instanceof Map?o:o instanceof Set?Array.from(o).entries():Object.entries(o),n=new Set,i=0;for(let[a,E]of c){let m=String(l({key:a,item:E,index:i}));n.add(m);let p=e.querySelector(`:scope > [${r}="${m}"]`);p||(p=t({key:a,item:E,index:i}),p.setAttribute(r,m),e.append(p)),s&&p&&s({key:a,item:E,index:i,element:p}),i++}e.querySelectorAll(`:scope > [${r}]`).forEach(a=>{n.has(a.getAttribute(r))||a.remove()})};var D=e=>Object.entries(e).map(([o,t])=>{let s=Object.entries(t).reduce((l,[r,c])=>{if(typeof c=="string"){let n=r.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`);return l+=`${n}:${c};`}return D(t)},"");return`${o}{${s}}`}).join("");export{A as h,v as repeat,D as style};
//# sourceMappingURL=index.js.map

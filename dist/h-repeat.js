const p=({container:r,items:t,element:i,ref:T,opts:s={}})=>{const E=s.keyAttrName||"data-h-repeat-key",m=s.key||(({key:e})=>e),k=Array.isArray(t)?t.entries():t instanceof Map?t:t instanceof Set?Array.from(t).entries():Object.entries(t),c=new Set;let n=0;for(const[e,l]of k){const M=String(m({key:e,item:l,index:n}));c.add(M);let a=r.querySelector(`[${E}="${M}"]`);a||(a=i({key:e,item:l,index:n}),a.setAttribute(E,M),r.append(a)),T&&a&&T({key:e,item:l,index:n,element:a}),n++}r.querySelectorAll(`[${E}]`).forEach(e=>{c.has(e.getAttribute(E))||e.remove()})};export{p as hRepeat};
//# sourceMappingURL=h-repeat.js.map
